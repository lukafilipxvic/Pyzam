"use strict";(self.webpackChunkstreamlit_browser=self.webpackChunkstreamlit_browser||[]).push([[57],{60743:function(e,t,n){n.r(t),n.d(t,{default:function(){return nt}});var i=n(1413),a=n(29439),r=n(47313),o=n(56130),l=n(30161),d=n(55982),u=n(44970),s=n(64577),c=n(17453),m=n(15671),f=n(43144),v=n(16031),g=n(35394),h=n.n(g),p=n(17076),b=n(70816),y=n.n(b),w=(n(49161),n(82374),["true","t","yes","y","on","1"]),x=["false","f","no","n","off","0"];function C(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return e="\u26a0\ufe0f ".concat(e),{kind:o.p6.Text,readonly:!0,allowOverlay:!0,data:e+(t?"\n\n".concat(t,"\n"):""),displayData:e,isError:!0}}function N(e){return e.hasOwnProperty("isError")&&e.isError}function Z(e){return e.hasOwnProperty("isMissingValue")&&e.isMissingValue}function E(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return e?{kind:o.p6.Loading,allowOverlay:!1,isMissingValue:!0}:{kind:o.p6.Loading,allowOverlay:!1}}function M(e){return(0,i.Z)((0,i.Z)({id:e.id,title:e.title,hasMenu:!1,themeOverride:e.themeOverride,icon:e.icon},e.isStretched&&{grow:e.isIndex?1:3}),e.width&&{width:e.width})}function k(e,t){return(0,c.le)(e)?t||{}:(0,c.le)(t)?e||{}:(0,v.merge)(e,t)}function T(e){if((0,c.le)(e))return[];if("number"===typeof e||"boolean"===typeof e)return[e];if("string"===typeof e){if(""===e)return[];if(!e.trim().startsWith("[")||!e.trim().endsWith("]"))return e.split(",");try{return JSON.parse(e)}catch(n){return[e]}}try{var t=JSON.parse(JSON.stringify(e,(function(e,t){return"bigint"===typeof t?Number(t):t})));return(0,v.isArray)(t)?t.map((function(e){return["string","number","boolean","null"].includes(typeof e)?e:R(e)})):[R(t)]}catch(n){return[R(e)]}}function R(e){try{try{return(0,v.toString)(e)}catch(t){return JSON.stringify(e,(function(e,t){return"bigint"===typeof t?Number(t):t}))}}catch(t){return"[".concat(typeof e,"]")}}function _(e){if((0,c.le)(e))return null;if("boolean"===typeof e)return e;var t=R(e).toLowerCase().trim();return""===t?null:!!w.includes(t)||!x.includes(t)&&void 0}function S(e){if((0,c.le)(e))return null;if((0,v.isArray)(e))return NaN;if("string"===typeof e){if(0===e.trim().length)return null;try{var t=h().unformat(e.trim());if((0,c.bb)(t))return t}catch(n){}}else if(e instanceof Int32Array)return Number(e[0]);return Number(e)}function O(e,t,n){return Number.isNaN(e)||!Number.isFinite(e)?"":(0,c.le)(t)||""===t?(0===n&&(e=Math.round(e)),h()(e).format((0,c.bb)(n)?"0,0.".concat("0".repeat(n)):"0,0.[0000]")):"percent"===t?new Intl.NumberFormat(void 0,{style:"percent",minimumFractionDigits:2,maximumFractionDigits:2}).format(e):["compact","scientific","engineering"].includes(t)?new Intl.NumberFormat(void 0,{notation:t}).format(e):(0,p.sprintf)(t,e)}function I(e,t){return"locale"===t?new Intl.DateTimeFormat(void 0,{dateStyle:"medium",timeStyle:"medium"}).format(e.toDate()):"distance"===t?e.fromNow():"relative"===t?e.calendar():e.format(t)}function D(e){if((0,c.le)(e))return null;if(e instanceof Date)return isNaN(e.getTime())?void 0:e;if("string"===typeof e&&0===e.trim().length)return null;try{var t=Number(e);if(!isNaN(t)){var n=t;t>=Math.pow(10,18)?n=t/Math.pow(1e3,3):t>=Math.pow(10,15)?n=t/Math.pow(1e3,2):t>=Math.pow(10,12)&&(n=t/1e3);var i=y().unix(n).utc();if(i.isValid())return i.toDate()}if("string"===typeof e){var a=y().utc(e);if(a.isValid())return a.toDate();var r=y().utc(e,[y().HTML5_FMT.TIME_MS,y().HTML5_FMT.TIME_SECONDS,y().HTML5_FMT.TIME]);if(r.isValid())return r.toDate()}}catch(o){return}}function A(e){if(e%1===0)return 0;var t=e.toString();return-1!==t.indexOf("e")&&(t=e.toLocaleString("fullwide",{useGrouping:!1,maximumFractionDigits:20})),-1===t.indexOf(".")?0:t.split(".")[1].length}var H=new RegExp(/(\r\n|\n|\r)/gm);function V(e){return-1!==e.indexOf("\n")?e.replace(H," "):e}function z(e){var t={kind:o.p6.Text,data:"",displayData:"",allowOverlay:!0,contentAlignment:e.contentAlignment,readonly:!0,style:e.isIndex?"faded":"normal"};return(0,i.Z)((0,i.Z)({},e),{},{kind:"object",sortMode:"default",isEditable:!1,getCell:function(e){try{var n=(0,c.bb)(e)?R(e):null,a=(0,c.bb)(n)?V(n):"";return(0,i.Z)((0,i.Z)({},t),{},{data:n,displayData:a,isMissingValue:(0,c.le)(e)})}catch(r){return C(R(e),"The value cannot be interpreted as a string. Error: ".concat(r))}},getCellValue:function(e){return void 0===e.data?null:e.data}})}z.isEditableType=!1;var F=z;function L(e){var t=e.columnTypeOptions||{},n=void 0;if(t.validate)try{n=new RegExp(t.validate,"us")}catch(l){n="Invalid validate regex: ".concat(t.validate,".\nError: ").concat(l)}var a={kind:o.p6.Text,data:"",displayData:"",allowOverlay:!0,contentAlignment:e.contentAlignment,readonly:!e.isEditable,style:e.isIndex?"faded":"normal"},r=function(i){if((0,c.le)(i))return!e.isRequired;var a=R(i),r=!1;return t.max_chars&&a.length>t.max_chars&&(a=a.slice(0,t.max_chars),r=!0),!(n instanceof RegExp&&!1===n.test(a))&&(!r||a)};return(0,i.Z)((0,i.Z)({},e),{},{kind:"text",sortMode:"default",validateInput:r,getCell:function(e,t){if("string"===typeof n)return C(R(e),n);if(t){var o=r(e);if(!1===o)return C(R(e),"Invalid input.");"string"===typeof o&&(e=o)}try{var d=(0,c.bb)(e)?R(e):null,u=(0,c.bb)(d)?V(d):"";return(0,i.Z)((0,i.Z)({},a),{},{isMissingValue:(0,c.le)(d),data:d,displayData:u})}catch(l){return C("Incompatible value","The value cannot be interpreted as string. Error: ".concat(l))}},getCellValue:function(e){return void 0===e.data?null:e.data}})}L.isEditableType=!0;var W=L;function j(e){var t={kind:o.p6.Boolean,data:!1,allowOverlay:!1,contentAlign:e.contentAlignment,readonly:!e.isEditable,style:e.isIndex?"faded":"normal"};return(0,i.Z)((0,i.Z)({},e),{},{kind:"checkbox",sortMode:"default",getCell:function(e){var n;return void 0===(n=_(e))?C(R(e),"The value cannot be interpreted as boolean."):(0,i.Z)((0,i.Z)({},t),{},{data:n,isMissingValue:(0,c.le)(n)})},getCellValue:function(e){return void 0===e.data?null:e.data}})}j.isEditableType=!0;var Y=j,B=n(93433),P=n(32998);function q(e){var t="string",n=k({options:"bool"===P.fu.getTypeName(e.arrowType)?[!0,!1]:[]},e.columnTypeOptions),a=new Set(n.options.map((function(e){return typeof e})));1===a.size&&(a.has("number")||a.has("bigint")?t="number":a.has("boolean")&&(t="boolean"));var r={kind:o.p6.Custom,allowOverlay:e.isEditable,copyData:"",contentAlign:e.contentAlignment,readonly:!e.isEditable,data:{kind:"dropdown-cell",allowedValues:[].concat((0,B.Z)(!0!==e.isRequired?[""]:[]),(0,B.Z)(n.options.filter((function(e){return""!==e})).map((function(e){return R(e)})))),value:"",readonly:!e.isEditable}};return(0,i.Z)((0,i.Z)({},e),{},{kind:"selectbox",sortMode:"default",getCell:function(t,n){var a="";return(0,c.bb)(t)&&(a=R(t)),n&&!r.data.allowedValues.includes(a)?C(R(a),"The value is not part of the allowed options."):e.isEditable?(0,i.Z)((0,i.Z)({},r),{},{isMissingValue:""===a,copyData:a,data:(0,i.Z)((0,i.Z)({},r.data),{},{value:a})}):{kind:o.p6.Text,isMissingValue:""===a,data:""!==a?a:null,displayData:a,allowOverlay:!0,contentAlignment:e.contentAlignment,readonly:!0,style:e.isIndex?"faded":"normal"}},getCellValue:function(e){var n,i,a,r,l,d,u;return e.kind===o.p6.Text?void 0===e.data?null:e.data:void 0===(null===(n=e.data)||void 0===n?void 0:n.value)||""===(null===(i=e.data)||void 0===i?void 0:i.value)?null:"number"===t?null!==(r=S(null===(l=e.data)||void 0===l?void 0:l.value))&&void 0!==r?r:null:"boolean"===t?null!==(d=_(null===(u=e.data)||void 0===u?void 0:u.value))&&void 0!==d?d:null:null===(a=e.data)||void 0===a?void 0:a.value}})}q.isEditableType=!0;var J=q;function U(e){var t={kind:o.p6.Bubble,data:[],allowOverlay:!0,contentAlign:e.contentAlignment,style:e.isIndex?"faded":"normal"};return(0,i.Z)((0,i.Z)({},e),{},{kind:"list",sortMode:"default",isEditable:!1,getCell:function(e){var n=(0,c.le)(e)?[]:T(e);return(0,i.Z)((0,i.Z)({},t),{},{data:n,isMissingValue:(0,c.le)(e),copyData:(0,c.le)(e)?"":R(n.map((function(e){return(0,v.isString)(e)&&e.includes(",")?e.replace(/,/g," "):e})))})},getCellValue:function(e){return(0,c.le)(e.data)||Z(e)?null:e.data}})}U.isEditableType=!1;var G=U;function K(e){return e.startsWith("int")&&!e.startsWith("interval")||"range"===e||e.startsWith("uint")}function X(e){var t=P.fu.getTypeName(e.arrowType),n=k({step:K(t)?1:void 0,min_value:t.startsWith("uint")?0:void 0},e.columnTypeOptions),a=(0,c.le)(n.min_value)||n.min_value<0,r=(0,c.bb)(n.step)&&!Number.isNaN(n.step)?A(n.step):void 0,l={kind:o.p6.Number,data:void 0,displayData:"",readonly:!e.isEditable,allowOverlay:!0,contentAlign:e.contentAlignment||"right",style:e.isIndex?"faded":"normal",allowNegative:a,fixedDecimals:r},d=function(t){var i=S(t);if((0,c.le)(i))return!e.isRequired;if(Number.isNaN(i))return!1;var a=!1;return(0,c.bb)(n.max_value)&&i>n.max_value&&(i=n.max_value,a=!0),!((0,c.bb)(n.min_value)&&i<n.min_value)&&(!a||i)};return(0,i.Z)((0,i.Z)({},e),{},{kind:"number",sortMode:"smart",validateInput:d,getCell:function(e,t){if(!0===t){var a=d(e);if(!1===a)return C(R(e),"Invalid input.");"number"===typeof a&&(e=a)}var o,u,s=S(e),m="";if((0,c.bb)(s)){if(Number.isNaN(s))return C(R(e),"The value cannot be interpreted as a number.");if((0,c.bb)(r)&&(o=s,s=0===(u=r)?Math.trunc(o):Math.trunc(o*Math.pow(10,u))/Math.pow(10,u)),Number.isInteger(s)&&!Number.isSafeInteger(s))return C(R(e),"The value is larger than the maximum supported integer values in number columns (2^53).");try{m=O(s,n.format,r)}catch(f){return C(R(s),(0,c.bb)(n.format)?"Failed to format the number based on the provided format configuration: (".concat(n.format,"). Error: ").concat(f):"Failed to format the number. Error: ".concat(f))}}return(0,i.Z)((0,i.Z)({},l),{},{data:s,displayData:m,isMissingValue:(0,c.le)(s)})},getCellValue:function(e){return void 0===e.data?null:e.data}})}X.isEditableType=!0;var Q=X;function $(e){var t=e.columnTypeOptions||{},n=void 0;if(t.validate)try{n=new RegExp(t.validate,"us")}catch(l){n="Invalid validate regex: ".concat(t.validate,".\nError: ").concat(l)}var a={kind:o.p6.Uri,data:"",readonly:!e.isEditable,allowOverlay:!0,contentAlign:e.contentAlignment,style:e.isIndex?"faded":"normal"},r=function(i){if((0,c.le)(i))return!e.isRequired;var a=R(i),r=!1;return t.max_chars&&a.length>t.max_chars&&(a=a.slice(0,t.max_chars),r=!0),!(n instanceof RegExp&&!1===n.test(a))&&(!r||a)};return(0,i.Z)((0,i.Z)({},e),{},{kind:"link",sortMode:"default",validateInput:r,getCell:function(e,t){if("string"===typeof n)return C(R(e),n);if(t){var o=r(e);if(!1===o)return C(R(e),"Invalid input.");"string"===typeof o&&(e=o)}return(0,i.Z)((0,i.Z)({},a),{},{data:(0,c.bb)(e)?R(e):null,isMissingValue:(0,c.le)(e)})},getCellValue:function(e){return void 0===e.data?null:e.data}})}$.isEditableType=!0;var ee=$;function te(e){var t={kind:o.p6.Image,data:[],displayData:[],allowAdd:!1,allowOverlay:!0,contentAlign:e.contentAlignment||"center",style:e.isIndex?"faded":"normal"};return(0,i.Z)((0,i.Z)({},e),{},{kind:"image",sortMode:"default",isEditable:!1,getCell:function(e){var n=(0,c.bb)(e)?[R(e)]:[];return(0,i.Z)((0,i.Z)({},t),{},{data:n,isMissingValue:!(0,c.bb)(e),displayData:n})},getCellValue:function(e){return void 0===e.data||0===e.data.length?null:e.data[0]}})}te.isEditableType=!1;var ne=te;function ie(e){var t,n=K(P.fu.getTypeName(e.arrowType)),a=k({min_value:0,max_value:n?100:1,step:n?1:.01,format:n?"%3d%%":"percent"},e.columnTypeOptions);try{t=O(a.max_value,a.format)}catch(d){t=R(a.max_value)}var r=(0,c.le)(a.step)||Number.isNaN(a.step)?void 0:A(a.step),l={kind:o.p6.Custom,allowOverlay:!1,copyData:"",contentAlign:e.contentAlignment,data:{kind:"range-cell",min:a.min_value,max:a.max_value,step:a.step,value:a.min_value,label:String(a.min_value),measureLabel:t,readonly:!0}};return(0,i.Z)((0,i.Z)({},e),{},{kind:"progress",sortMode:"smart",isEditable:!1,getCell:function(e){if((0,c.le)(e))return E();if((0,c.le)(a.min_value)||(0,c.le)(a.max_value)||Number.isNaN(a.min_value)||Number.isNaN(a.max_value)||a.min_value>=a.max_value)return C("Invalid min/max parameters","The min_value (".concat(a.min_value,") and max_value (").concat(a.max_value,") parameters must be valid numbers."));if((0,c.le)(a.step)||Number.isNaN(a.step))return C("Invalid step parameter","The step parameter (".concat(a.step,") must be a valid number."));var t=S(e);if(Number.isNaN(t)||(0,c.le)(t))return C(R(e),"The value cannot be interpreted as a number.");if(Number.isInteger(t)&&!Number.isSafeInteger(t))return C(R(e),"The value is larger than the maximum supported integer values in number columns (2^53).");var n="";try{n=O(t,a.format,r)}catch(d){return C(R(t),(0,c.bb)(a.format)?"Failed to format the number based on the provided format configuration: (".concat(a.format,"). Error: ").concat(d):"Failed to format the number. Error: ".concat(d))}var o=Math.min(a.max_value,Math.max(a.min_value,t));return(0,i.Z)((0,i.Z)({},l),{},{isMissingValue:(0,c.le)(e),copyData:String(t),data:(0,i.Z)((0,i.Z)({},l.data),{},{value:o,label:n})})},getCellValue:function(e){var t,n;return e.kind===o.p6.Loading||void 0===(null===(t=e.data)||void 0===t?void 0:t.value)?null:null===(n=e.data)||void 0===n?void 0:n.value}})}ie.isEditableType=!1;var ae=ie;function re(e,t){return e=t.startsWith("+")||t.startsWith("-")?e.utcOffset(t,!1):e.tz(t)}function oe(e,t,n,a,r,l,d){var u,s=k({format:n,step:a,timezone:d},t.columnTypeOptions),m=void 0;if((0,c.bb)(s.timezone))try{var f;m=(null===(f=re(y()(),s.timezone))||void 0===f?void 0:f.utcOffset())||void 0}catch(b){}var v=void 0;(0,c.bb)(s.min_value)&&(v=D(s.min_value)||void 0);var g=void 0;(0,c.bb)(s.max_value)&&(g=D(s.max_value)||void 0);var h={kind:o.p6.Custom,allowOverlay:!0,copyData:"",readonly:!t.isEditable,contentAlign:t.contentAlignment,style:t.isIndex?"faded":"normal",data:{kind:"date-time-cell",date:void 0,displayDate:"",step:(null===(u=s.step)||void 0===u?void 0:u.toString())||"1",format:r,min:v,max:g}},p=function(e){var n=D(e);return null===n?!t.isRequired:void 0!==n&&(!((0,c.bb)(v)&&l(n)<l(v))&&!((0,c.bb)(g)&&l(n)>l(g)))};return(0,i.Z)((0,i.Z)({},t),{},{kind:e,sortMode:"default",validateInput:p,getCell:function(e,a){if(!0===a){var r=p(e);if(!1===r)return C(R(e),"Invalid input.");r instanceof Date&&(e=r)}var l=D(e),d="",u="",f=m;if(void 0===l)return C(R(e),"The value cannot be interpreted as a datetime object.");if(null!==l){var v=y().utc(l);if(!v.isValid())return C(R(l),"This should never happen. Please report this bug. \nError: ".concat(v.toString()));if(s.timezone){try{v=re(v,s.timezone)}catch(b){return C(v.toISOString(),"Failed to adjust to the provided timezone: ".concat(s.timezone,". \nError: ").concat(b))}f=v.utcOffset()}try{u=I(v,s.format||n)}catch(b){return C(v.toISOString(),"Failed to format the date for rendering with: ".concat(s.format,". \nError: ").concat(b))}d=I(v,n)}return t.isEditable?(0,i.Z)((0,i.Z)({},h),{},{copyData:d,isMissingValue:(0,c.le)(l),data:(0,i.Z)((0,i.Z)({},h.data),{},{date:l,displayDate:u,timezoneOffset:f})}):{kind:o.p6.Text,isMissingValue:(0,c.le)(l),data:""!==d?d:null,displayData:u,allowOverlay:!0,contentAlignment:t.contentAlignment,readonly:!0,style:t.isIndex?"faded":"normal"}},getCellValue:function(e){var t;return e.kind===o.p6.Text?void 0===e.data?null:e.data:(0,c.le)(null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.date)?null:l(e.data.date)}})}function le(e){var t,n,i,a,r,o="YYYY-MM-DD HH:mm:ss";(null===(t=e.columnTypeOptions)||void 0===t?void 0:t.step)>=60?o="YYYY-MM-DD HH:mm":(null===(n=e.columnTypeOptions)||void 0===n?void 0:n.step)<1&&(o="YYYY-MM-DD HH:mm:ss.SSS");var l=null===(i=e.arrowType)||void 0===i||null===(a=i.meta)||void 0===a?void 0:a.timezone,d=(0,c.bb)(l)||(0,c.bb)(null===e||void 0===e||null===(r=e.columnTypeOptions)||void 0===r?void 0:r.timezone);return oe("datetime",e,d?o+"Z":o,1,"datetime-local",(function(e){return d?e.toISOString():e.toISOString().replace("Z","")}),l)}function de(e){var t,n,i="HH:mm:ss";return(null===(t=e.columnTypeOptions)||void 0===t?void 0:t.step)>=60?i="HH:mm":(null===(n=e.columnTypeOptions)||void 0===n?void 0:n.step)<1&&(i="HH:mm:ss.SSS"),oe("time",e,i,1,"time",(function(e){return e.toISOString().split("T")[1].replace("Z","")}))}function ue(e){return oe("date",e,"YYYY-MM-DD",1,"date",(function(e){return e.toISOString().split("T")[0]}))}function se(e,t,n){var a=k({y_min:0,y_max:1},t.columnTypeOptions),r={kind:o.p6.Custom,allowOverlay:!1,copyData:"",contentAlign:t.contentAlignment,data:{kind:"sparkline-cell",values:[],displayValues:[],graphKind:n,yAxis:[a.y_min,a.y_max]}};return(0,i.Z)((0,i.Z)({},t),{},{kind:e,sortMode:"default",isEditable:!1,getCell:function(e){if((0,c.le)(a.y_min)||(0,c.le)(a.y_max)||Number.isNaN(a.y_min)||Number.isNaN(a.y_max)||a.y_min>=a.y_max)return C("Invalid min/max y-axis configuration","The y_min (".concat(a.y_min,") and y_max (").concat(a.y_max,") configuration options must be valid numbers."));if((0,c.le)(e))return E();var t=T(e),o=[],l=[];if(0===t.length)return E();for(var d=Number.MIN_SAFE_INTEGER,u=Number.MAX_SAFE_INTEGER,s=0;s<t.length;s++){var m=S(t[s]);if(Number.isNaN(m)||(0,c.le)(m))return C(R(t),"The value cannot be interpreted as a numeric array. ".concat(R(m)," is not a number."));m>d&&(d=m),m<u&&(u=m),o.push(m)}return"line"===n&&o.length<=2?E():(l=o.length>0&&(d>a.y_max||u<a.y_min)?o.map((function(e){return d-u===0?d>(a.y_max||1)?a.y_max||1:a.y_min||0:((a.y_max||1)-(a.y_min||0))*((e-u)/(d-u))+(a.y_min||0)})):o,(0,i.Z)((0,i.Z)({},r),{},{copyData:o.join(","),data:(0,i.Z)((0,i.Z)({},r.data),{},{values:l,displayValues:o.map((function(e){return O(e)}))}),isMissingValue:(0,c.le)(e)}))},getCellValue:function(e){var t,n;return e.kind===o.p6.Loading||void 0===(null===(t=e.data)||void 0===t?void 0:t.values)?null:null===(n=e.data)||void 0===n?void 0:n.values}})}function ce(e){return se("line_chart",e,"line")}function me(e){return se("bar_chart",e,"bar")}le.isEditableType=!0,de.isEditableType=!0,ue.isEditableType=!0,ce.isEditableType=!1,me.isEditableType=!1;var fe=n(47167),ve=n(46417);var ge=(0,fe.Z)("input",{target:"ep8mq70"})({name:"mno8rz",styles:"min-height:26px;border:none;outline:none;background-color:transparent;font-size:var(--gdg-editor-font-size);font-family:var(--gdg-font-family);color:var(--gdg-text-dark);::-webkit-calendar-picker-indicator{background-color:white;}"}),he=function(e,t){if(void 0===t||null===t)return"";var n=t.toISOString();switch(e){case"date":return n.split("T")[0];case"datetime-local":return n.replace("Z","");case"time":return n.split("T")[1].replace("Z","");default:throw new Error("Unknown date kind ".concat(e))}},pe=function(e){var t=e.value.data,n=t.format,a=t.displayDate,r=void 0===t.step||Number.isNaN(Number(t.step))?void 0:Number(t.step),l=t.min instanceof Date?he(n,t.min):t.min,d=t.max instanceof Date?he(n,t.max):t.max,u=t.date,s=t.timezoneOffset?60*t.timezoneOffset*1e3:0;s&&u&&(u=new Date(u.getTime()+s));var c=he(n,u);return e.value.readonly?(0,ve.jsx)(o.t5,{highlight:!0,autoFocus:!1,disabled:!0,value:null!==a&&void 0!==a?a:"",onChange:function(){}}):(0,ve.jsx)(ge,{"data-testid":"date-time-cell",required:!0,type:n,defaultValue:c,min:l,max:d,step:r,autoFocus:!0,onChange:function(t){isNaN(t.target.valueAsNumber)?e.onChange((0,i.Z)((0,i.Z)({},e.value),{},{data:(0,i.Z)((0,i.Z)({},e.value.data),{},{date:void 0})})):e.onChange((0,i.Z)((0,i.Z)({},e.value),{},{data:(0,i.Z)((0,i.Z)({},e.value.data),{},{date:new Date(t.target.valueAsNumber-s)})}))}})},be={kind:o.p6.Custom,isMatch:function(e){return"date-time-cell"===e.data.kind},draw:function(e,t){var n=t.data.displayDate;return(0,o.uN)(e,n,t.contentAlign),!0},measure:function(e,t){var n=t.data.displayDate;return e.measureText(n).width+16},provideEditor:function(){return{editor:pe}},onPaste:function(e,t){var n=NaN;return e&&(n=Number(e).valueOf(),Number.isNaN(n)&&(n=Date.parse(e),"time"===t.format&&Number.isNaN(n)&&(n=Date.parse("1970-01-01T".concat(e,"Z"))))),(0,i.Z)((0,i.Z)({},t),{},{date:Number.isNaN(n)?void 0:new Date(n)})}},ye=(0,fe.Z)("img",{target:"ezrmkt60"})((function(){return{maxWidth:"100%",maxHeight:"600px",objectFit:"scale-down"}}),""),we=function(e){var t=e.urls,n=t&&t.length>0?t[0]:"";return n.startsWith("http")?(0,ve.jsx)("a",{href:n,target:"_blank",rel:"noreferrer noopener",children:(0,ve.jsx)(ye,{src:n})}):(0,ve.jsx)(ye,{src:n})},xe=new Map(Object.entries({object:F,text:W,checkbox:Y,selectbox:J,list:G,number:Q,link:ee,datetime:le,date:ue,time:de,line_chart:ce,bar_chart:me,image:ne,progress:ae})),Ce=[be],Ne=n(66463);function Ze(e,t,n){var i=new RegExp("".concat(e,"[,\\s].*{(?:[^}]*[\\s;]{1})?").concat(t,":\\s*([^;}]+)[;]?.*}"),"gm");n=n.replace(/{/g," {");var a=i.exec(n);if(a)return a[1].trim()}function Ee(e,t,n){var a={},r=Ze(t,"color",n);r&&(a.textDark=r);var o=Ze(t,"background-color",n);return o&&(a.bgCell=o),"yellow"===o&&void 0===r&&(a.textDark="#31333F"),a?(0,i.Z)((0,i.Z)({},e),{},{themeOverride:a}):e}function Me(e,t){var n=e.types.index[t],i=e.indexNames[t],a=!0;return"range"===P.fu.getTypeName(n)&&(a=!1),{id:"index-".concat(t),name:i,title:i,isEditable:a,arrowType:n,isIndex:!0,isHidden:!1}}function ke(e,t){var n,i=e.columns[0][t],a=e.types.data[t];if((0,c.le)(a)&&(a={meta:null,numpy_type:"object",pandas_type:"object"}),"categorical"===P.fu.getTypeName(a)){var r=e.getCategoricalOptions(t);(0,c.bb)(r)&&(n={options:r})}return{id:"column-".concat(i,"-").concat(t),name:i,title:i,isEditable:!0,arrowType:a,columnTypeOptions:n,isIndex:!1,isHidden:!1}}var Te="_index",Re="_pos:",_e={small:75,medium:200,large:400};function Se(e){if(!(0,c.le)(e))return"number"===typeof e?e:e in _e?_e[e]:void 0}function Oe(e){var t,n,i=null===(t=e.columnTypeOptions)||void 0===t?void 0:t.type;return(0,c.bb)(i)&&(xe.has(i)?n=xe.get(i):(0,Ne.KE)("Unknown column type configured in column configuration: ".concat(i))),(0,c.le)(n)&&(n=function(e){var t=e?P.fu.getTypeName(e):null;return t?(t=t.toLowerCase().trim(),["unicode","empty"].includes(t)?W:["datetime","datetimetz"].includes(t)?le:"time"===t?de:"date"===t?ue:["object","decimal","bytes"].includes(t)?F:["bool"].includes(t)?Y:["int8","int16","int32","int64","uint8","uint16","uint32","uint64","float16","float32","float64","float96","float128","range"].includes(t)?Q:"categorical"===t?J:t.startsWith("list")?G:F):F}(e.arrowType)),n}var Ie=function(e,t,n){var a=function(e){if(!e.columns)return new Map;try{return new Map(Object.entries(JSON.parse(e.columns)))}catch(t){return(0,Ne.H)(t),new Map}}(e),r=e.useContainerWidth||(0,c.bb)(e.width)&&e.width>0,o=function(e){var t,n,a,r,o,l,d=[],u=null!==(t=null===(n=e.types)||void 0===n||null===(a=n.index)||void 0===a?void 0:a.length)&&void 0!==t?t:0,s=null!==(r=null===(o=e.columns)||void 0===o||null===(l=o[0])||void 0===l?void 0:l.length)&&void 0!==r?r:0;if(0===u&&0===s)return d.push({id:"empty-index",title:"",indexNumber:0,isEditable:!1,isIndex:!0}),d;for(var c=0;c<u;c++){var m=(0,i.Z)((0,i.Z)({},Me(e,c)),{},{indexNumber:c});d.push(m)}for(var f=0;f<s;f++){var v=(0,i.Z)((0,i.Z)({},ke(e,f)),{},{indexNumber:f+u});d.push(v)}return d}(t).map((function(t){var o=(0,i.Z)((0,i.Z)((0,i.Z)({},t),function(e,t){return t?(t.has(e.name)&&e.name!==Te?n=t.get(e.name):t.has("".concat(Re).concat(e.indexNumber))?n=t.get("".concat(Re).concat(e.indexNumber)):e.isIndex&&t.has(Te)&&(n=t.get(Te)),n?(0,v.merge)((0,i.Z)({},e),{title:n.label,width:Se(n.width),isEditable:(0,c.bb)(n.disabled)?!n.disabled:void 0,isHidden:n.hidden,isRequired:n.required,columnTypeOptions:n.type_config,contentAlignment:n.alignment,defaultValue:n.default,help:n.help}):e):e;var n}(t,a)),{},{isStretched:r}),l=Oe(o);return(e.editingMode===s.Eh.EditingMode.READ_ONLY||n||!1===l.isEditableType)&&(o=(0,i.Z)((0,i.Z)({},o),{},{isEditable:!1})),e.editingMode!==s.Eh.EditingMode.READ_ONLY&&1==o.isEditable&&(o=(0,i.Z)((0,i.Z)({},o),{},{icon:"editable"})),l(o)})).filter((function(e){return!e.isHidden}));if(e.columnOrder&&e.columnOrder.length>0){var l=[];o.forEach((function(e){e.isIndex&&l.push(e)})),e.columnOrder.forEach((function(e){var t=o.find((function(t){return t.name===e}));t&&!t.isIndex&&l.push(t)})),o=l}return{columns:o.length>0?o:[F({id:"empty-index",title:"",indexNumber:0,isEditable:!1,isIndex:!0})]}};function De(e){return e.isIndex?Te:(0,c.le)(e.name)?"":e.name}var Ae=function(){function e(t){(0,m.Z)(this,e),this.editedCells=new Map,this.addedRows=[],this.deletedRows=[],this.numRows=0,this.numRows=t}return(0,f.Z)(e,[{key:"toJson",value:function(e){var t=new Map;e.forEach((function(e){t.set(e.indexNumber,e)}));var n={edited_rows:{},added_rows:[],deleted_rows:[]};return this.editedCells.forEach((function(e,i,a){var r={};e.forEach((function(e,n,i){var a=t.get(n);a&&(r[De(a)]=a.getCellValue(e))})),n.edited_rows[i]=r})),this.addedRows.forEach((function(e){var i={},a=!1;e.forEach((function(e,n,r){var o=t.get(n);if(o){var l=o.getCellValue(e);o.isRequired&&o.isEditable&&Z(e)&&(a=!0),(0,c.bb)(l)&&(i[De(o)]=l)}})),a||n.added_rows.push(i)})),n.deleted_rows=this.deletedRows,JSON.stringify(n,(function(e,t){return void 0===t?null:t}))}},{key:"fromJson",value:function(e,t){var n=this;this.editedCells=new Map,this.addedRows=[],this.deletedRows=[];var i=JSON.parse(e),a=new Map;t.forEach((function(e){a.set(e.indexNumber,e)}));var r=new Map;t.forEach((function(e){r.set(De(e),e)})),Object.keys(i.edited_rows).forEach((function(e){var t=Number(e),a=i.edited_rows[e];Object.keys(a).forEach((function(e){var i=a[e],o=r.get(e);if(o){var l,d=o.getCell(i);if(d)n.editedCells.has(t)||n.editedCells.set(t,new Map),null===(l=n.editedCells.get(t))||void 0===l||l.set(o.indexNumber,d)}}))})),i.added_rows.forEach((function(e){var t=new Map;Object.keys(e).forEach((function(n){var i=e[n],a=r.get(n);if(a){var o=a.getCell(i);o&&t.set(a.indexNumber,o)}})),n.addedRows.push(t)})),this.deletedRows=i.deleted_rows}},{key:"isAddedRow",value:function(e){return e>=this.numRows}},{key:"getCell",value:function(e,t){if(this.isAddedRow(t))return this.addedRows[t-this.numRows].get(e);var n=this.editedCells.get(t);return void 0!==n?n.get(e):void 0}},{key:"setCell",value:function(e,t,n){if(this.isAddedRow(t)){if(t-this.numRows>=this.addedRows.length)return;this.addedRows[t-this.numRows].set(e,n)}else{void 0===this.editedCells.get(t)&&this.editedCells.set(t,new Map),this.editedCells.get(t).set(e,n)}}},{key:"addRow",value:function(e){this.addedRows.push(e)}},{key:"deleteRows",value:function(e){var t=this;e.sort((function(e,t){return t-e})).forEach((function(e){t.deleteRow(e)}))}},{key:"deleteRow",value:function(e){(0,c.le)(e)||e<0||(this.isAddedRow(e)?this.addedRows.splice(e-this.numRows,1):(this.deletedRows.includes(e)||(this.deletedRows.push(e),this.deletedRows=this.deletedRows.sort((function(e,t){return e-t}))),this.editedCells.delete(e)))}},{key:"getOriginalRowIndex",value:function(e){for(var t=e,n=0;n<this.deletedRows.length&&!(this.deletedRows[n]>t);n++)t+=1;return t}},{key:"getNumRows",value:function(){return this.numRows+this.addedRows.length-this.deletedRows.length}}]),e}(),He=n(2120),Ve=n(83985);var ze=function(){var e=(0,Ve.u)(),t=r.useMemo((function(){return{editable:function(e){return'<svg xmlns="http://www.w3.org/2000/svg" height="40" viewBox="0 96 960 960" width="40" fill="'.concat(e.bgColor,'"><path d="m800.641 679.743-64.384-64.384 29-29q7.156-6.948 17.642-6.948 10.485 0 17.742 6.948l29 29q6.948 7.464 6.948 17.95 0 10.486-6.948 17.434l-29 29Zm-310.64 246.256v-64.383l210.82-210.821 64.384 64.384-210.821 210.82h-64.383Zm-360-204.872v-50.254h289.743v50.254H130.001Zm0-162.564v-50.255h454.615v50.255H130.001Zm0-162.307v-50.255h454.615v50.255H130.001Z"/></svg>')}}}),[]);return{accentColor:e.colors.primary,accentFg:e.colors.white,accentLight:(0,He.DZ)(e.colors.primary,.9),borderColor:e.colors.fadedText05,horizontalBorderColor:e.colors.fadedText05,fontFamily:e.genericFonts.bodyFont,bgSearchResult:(0,He.DZ)(e.colors.primary,.9),bgIconHeader:e.colors.fadedText60,fgIconHeader:e.colors.white,bgHeader:e.colors.bgMix,bgHeaderHasFocus:e.colors.secondaryBg,bgHeaderHovered:e.colors.bgMix,textHeader:e.colors.fadedText60,textHeaderSelected:e.colors.white,textGroupHeader:e.colors.fadedText60,headerFontStyle:"".concat(e.fontSizes.sm),baseFontStyle:e.fontSizes.sm,editorFontSize:e.fontSizes.sm,textDark:e.colors.bodyText,textMedium:(0,He.DZ)(e.colors.bodyText,.2),textLight:e.colors.fadedText40,textBubble:e.colors.fadedText60,bgCell:e.colors.bgColor,bgCellMedium:e.colors.bgColor,cellHorizontalPadding:8,cellVerticalPadding:3,bgBubble:e.colors.secondaryBg,bgBubbleSelected:e.colors.secondaryBg,linkColor:e.colors.linkText,drilldownBorder:e.colors.darkenedBgMix25,tableBorderRadius:e.radii.md,headerIcons:t}};var Fe=function(e,t,n,l){var d=r.useCallback((function(r){var d=(0,a.Z)(r,2),u=d[0],s=d[1];if(u>t.length-1)return C("Column index out of bounds.","This should never happen. Please report this bug.");if(s>n-1)return C("Row index out of bounds.","This should never happen. Please report this bug.");var m=t[u],f=m.indexNumber,v=l.current.getOriginalRowIndex(s);if(m.isEditable||l.current.isAddedRow(v)){var g=l.current.getCell(f,v);if(void 0!==g)return g}try{return function(e,t){var n,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;if("object"===e.kind)n=e.getCell((0,c.bb)(t.content)?V(P.fu.format(t.content,t.contentType,t.field)):null);else if(["time","date","datetime"].includes(e.kind)&&(0,c.bb)(t.content)&&("number"===typeof t.content||"bigint"===typeof t.content)){var r,l,d;d="time"===P.fu.getTypeName(e.arrowType)&&(0,c.bb)(null===(r=t.field)||void 0===r||null===(l=r.type)||void 0===l?void 0:l.unit)?y().unix(P.fu.adjustTimestamp(t.content,t.field)).utc().toDate():y().utc(Number(t.content)).toDate(),n=e.getCell(d)}else n=e.getCell(t.content);if(N(n))return n;if(!e.isEditable){if((0,c.bb)(t.displayContent)){var u=V(t.displayContent);(n.kind===o.p6.Text||n.kind===o.p6.Number)&&(n=(0,i.Z)((0,i.Z)({},n),{},{displayData:u}))}a&&t.cssId&&(n=Ee(n,t.cssId,a))}return n}(m,e.getCell(v+1,f),e.cssStyles)}catch(h){return(0,Ne.H)(h),C("Error during cell creation.","This should never happen. Please report this bug. \nError: ".concat(h))}}),[t,n,e,l]);return{getCellContent:d}};var Le=function(e,t,n,i,o){var l,d=function(e){return Math.max(35*e+1+2,73)}(t+1+(e.editingMode===s.Eh.EditingMode.DYNAMIC?1:0)),u=Math.min(d,400);e.height&&(u=Math.max(e.height,73),d=Math.max(e.height,d)),i&&(u=Math.min(u,i),d=Math.min(d,i),e.height||(u=d));var m=n;e.useContainerWidth?l=n:e.width&&(l=Math.min(Math.max(e.width,52),n),m=Math.min(Math.max(e.width,m),n));var f=r.useState({width:l||"100%",height:u}),v=(0,a.Z)(f,2),g=v[0],h=v[1];return r.useLayoutEffect((function(){e.useContainerWidth&&"100%"===g.width&&h({width:n,height:g.height})}),[n]),r.useLayoutEffect((function(){h({width:g.width,height:u})}),[t]),r.useLayoutEffect((function(){h({width:l||"100%",height:g.height})}),[l]),r.useLayoutEffect((function(){h({width:g.width,height:u})}),[u]),r.useLayoutEffect((function(){if(o){var t=e.useContainerWidth||(0,c.bb)(e.width)&&e.width>0;h({width:t?m:"100%",height:d})}else h({width:l||"100%",height:u})}),[o]),{rowHeight:35,minHeight:73,maxHeight:d,minWidth:52,maxWidth:m,resizableSize:g,setResizableSize:h}};var We=function(e,t,n,o,l,d,u){var s=r.useCallback((function(t,r){var d=(0,a.Z)(t,2),s=d[0],c=d[1],m=e[s];if(m.isEditable){var f=m.indexNumber,v=n.current.getOriginalRowIndex(l(c)),g=o([s,c]),h=m.getCellValue(g),p=m.getCellValue(r);if(N(g)||p!==h){var b=m.getCell(p,!0);N(b)?(0,Ne.KE)("Not applying the cell edit since it causes this error:\n ".concat(b.data)):(n.current.setCell(f,v,(0,i.Z)((0,i.Z)({},b),{},{lastUpdated:performance.now()})),u())}}}),[e,n,l,o,u]),m=r.useCallback((function(){if(!t){var i=new Map;e.forEach((function(e){i.set(e.indexNumber,e.getCell(e.defaultValue))})),n.current.addRow(i)}}),[e,n,t]),f=r.useCallback((function(){t||(m(),u())}),[m,u,t]),v=r.useCallback((function(i){var a;if(i.rows.length>0){if(t)return!0;var r=i.rows.toArray().map((function(e){return n.current.getOriginalRowIndex(l(e))}));return n.current.deleteRows(r),u(!0),!1}if(null!==(a=i.current)&&void 0!==a&&a.range){for(var o=[],c=i.current.range,m=c.y;m<c.y+c.height;m++)for(var f=c.x;f<c.x+c.width;f++){var v=e[f];v.isEditable&&!v.isRequired&&(o.push({cell:[f,m]}),s([f,m],v.getCell(null)))}return o.length>0&&(u(),d(o)),!1}return!0}),[e,n,t,d,l,u,s]),g=r.useCallback((function(r,s){for(var f=(0,a.Z)(r,2),v=f[0],g=f[1],h=[],p=0;p<s.length;p++){var b=s[p];if(p+g>=n.current.getNumRows()){if(t)break;m()}for(var y=0;y<b.length;y++){var w=b[y],x=p+g,C=y+v;if(C>=e.length)break;var Z=e[C];if(Z.isEditable){var E=Z.getCell(w,!0);if((0,c.bb)(E)&&!N(E)){var M=Z.indexNumber,k=n.current.getOriginalRowIndex(l(x)),T=Z.getCellValue(o([C,x]));Z.getCellValue(E)!==T&&(n.current.setCell(M,k,(0,i.Z)((0,i.Z)({},E),{},{lastUpdated:performance.now()})),h.push({cell:[C,x]}))}}}h.length>0&&(u(),d(h))}return!1}),[e,n,t,l,o,m,u,d]),h=r.useCallback((function(t,n){var i=t[0];if(i>=e.length)return!0;var a=e[i];if(a.validateInput){var r=a.validateInput(a.getCellValue(n));return!0===r||!1===r?r:a.getCell(r)}return!0}),[e]);return{onCellEdited:s,onPaste:g,onRowAppended:f,onDelete:v,validateCell:h}};var je=function(e){var t=(0,r.useState)((function(){return new Map})),n=(0,a.Z)(t,2),o=n[0],l=n[1],d=r.useCallback((function(e,t,n,i){e.id&&l(new Map(o).set(e.id,i))}),[o]);return{columns:e.map((function(e){return e.id&&o.has(e.id)&&void 0!==o.get(e.id)?(0,i.Z)((0,i.Z)({},e),{},{width:o.get(e.id),grow:0}):e})),onColumnResize:d}},Ye=n(34264);var Be=function(e,t,n){var o=r.useState(),l=(0,a.Z)(o,2),d=l[0],u=l[1],s=(0,Ye.fF)({columns:t.map((function(e){return M(e)})),getCellContent:n,rows:e,sort:d}),c=s.getCellContent,m=s.getOriginalIndex,f=function(e,t){return void 0===t?e:e.map((function(e){return e.id===t.column.id?(0,i.Z)((0,i.Z)({},e),{},{title:"asc"===t.direction?"\u2191 ".concat(e.title):"\u2193 ".concat(e.title)}):e}))}(t,d),v=r.useCallback((function(e){var t="asc",n=f[e];if(d&&d.column.id===n.id){if("asc"!==d.direction)return void u(void 0);t="desc"}u({column:M(n),direction:t,mode:n.sortMode})}),[d,f]);return{columns:f,sortColumn:v,getOriginalIndex:m,getCellContent:c}};var Pe=function(e,t){var n=r.useState(),i=(0,a.Z)(n,2),o=i[0],l=i[1],d=r.useRef(null),u=r.useCallback((function(n){if(clearTimeout(d.current),d.current=0,l(void 0),("header"===n.kind||"cell"===n.kind)&&n.location){var i,a=n.location[0],r=n.location[1];if(a<0||a>=e.length)return;var o=e[a];if("header"===n.kind&&(0,c.bb)(o))i=o.help;else if("cell"===n.kind){var u=t([a,r]);o.isRequired&&o.isEditable&&Z(u)?i="\u26a0\ufe0f Please fill out this cell.":function(e){return e.hasOwnProperty("tooltip")&&""!==e.tooltip}(u)&&(i=u.tooltip)}i&&(d.current=setTimeout((function(){i&&l({content:i,left:n.bounds.x+n.bounds.width/2,top:n.bounds.y})}),600))}}),[e,t,l,d]);return{tooltip:o,clearTooltip:r.useCallback((function(){l(void 0)}),[l]),onItemHovered:u}},qe=n(91719);var Je=function(e,t){var n=r.useCallback((function(n){var a=n.cell,r=n.theme,l=n.ctx,d=n.rect,u=t?n.col-1:n.col;if(Z(a)&&u<e.length){var s=!1,c=e[u];return["checkbox","line_chart","bar_chart","progress"].includes(c.kind)||(!function(e){var t=e.cell,n=e.theme;(0,o.uN)((0,i.Z)((0,i.Z)({},e),{},{theme:(0,i.Z)((0,i.Z)({},n),{},{textDark:n.textLight,textMedium:n.textLight}),spriteManager:{},hyperWrapping:!1}),"None",t.contentAlign)}(n),s=!0),c.isRequired&&c.isEditable&&function(e,t,n){e.save(),e.beginPath(),e.moveTo(t.x+t.width-8,t.y+1),e.lineTo(t.x+t.width,t.y+1),e.lineTo(t.x+t.width,t.y+1+8),e.fillStyle=n.accentColor,e.fill(),e.restore()}(l,d,r),s}return!1}),[e,t]),a=(0,qe.Bn)();return{drawCell:n,customRenderers:[].concat((0,B.Z)(a.customRenderers),(0,B.Z)(Ce))}},Ue=n(4942),Ge=(0,fe.Z)("div",{target:"ebxhiwi0"})((function(e){var t;return{position:"relative",display:"inline-block","& .glideDataEditor":{height:"100%",minWidth:"100%",borderRadius:e.theme.radii.md},"& .dvn-scroller":(t={scrollbarWidth:"thin"},(0,Ue.Z)(t,"overflowX","overlay !important"),(0,Ue.Z)(t,"overflowY","overlay !important"),t)}}),""),Ke=n(84028),Xe=n(18550),Qe=n(13689),$e=n(93196),et=n(70135);var tt=function(e){var t=e.top,n=e.left,i=e.content,o=e.clearTooltip,l=r.useState(!0),d=(0,a.Z)(l,2),u=d[0],s=d[1],c=(0,Ve.u)(),m=c.colors,f=c.fontSizes,v=c.radii,g=r.useCallback((function(){s(!1),o()}),[o,s]);return(0,ve.jsx)(Ke.Z,{content:(0,ve.jsx)($e.Uo,{className:"stTooltipContent",children:(0,ve.jsx)(Qe.ZP,{style:{fontSize:f.sm},source:i,allowHTML:!1})}),placement:Xe.r4.top,accessibilityType:Xe.SI.tooltip,showArrow:!1,popoverMargin:5,onClickOutside:g,onEsc:g,overrides:{Body:{style:{borderTopLeftRadius:v.md,borderTopRightRadius:v.md,borderBottomLeftRadius:v.md,borderBottomRightRadius:v.md,paddingTop:"0 !important",paddingBottom:"0 !important",paddingLeft:"0 !important",paddingRight:"0 !important",backgroundColor:"transparent"}},Inner:{style:{backgroundColor:(0,et.Iy)(c)?m.bgColor:m.secondaryBg,color:m.bodyText,fontSize:f.sm,fontWeight:"normal",paddingTop:"0 !important",paddingBottom:"0 !important",paddingLeft:"0 !important",paddingRight:"0 !important"}}},isOpen:u,children:(0,ve.jsx)("div",{className:"stTooltipTarget",style:{position:"fixed",top:t,left:n}})})};n(47288);var nt=(0,u.Z)((function(e){var t=e.element,n=e.data,u=e.width,m=e.height,f=e.disabled,v=e.widgetMgr,g=e.isFullScreen,h=r.useRef(null),p=r.useRef(null),b=ze(),y=r.useState(!0),w=(0,a.Z)(y,2),x=w[0],C=w[1],N=r.useMemo((function(){return window.matchMedia&&window.matchMedia("(pointer: coarse)").matches}),[]),Z=r.useState({columns:o.EV.empty(),rows:o.EV.empty(),current:void 0}),E=(0,a.Z)(Z,2),k=E[0],T=E[1],R=r.useCallback((function(){T({columns:o.EV.empty(),rows:o.EV.empty(),current:void 0})}),[]),_=r.useCallback((function(e){var t;null===(t=p.current)||void 0===t||t.updateCells(e)}),[]);(0,c.le)(t.editingMode)&&(t.editingMode=s.Eh.EditingMode.READ_ONLY);var S=s.Eh.EditingMode,O=S.READ_ONLY,I=S.DYNAMIC,D=n.dimensions,A=Math.max(0,D.rows-1),H=0===A&&!(t.editingMode===I&&D.dataColumns>0),V=A>15e4,z=r.useRef(new Ae(A)),F=r.useState(z.current.getNumRows()),L=(0,a.Z)(F,2),W=L[0],j=L[1];r.useEffect((function(){z.current=new Ae(A),j(z.current.getNumRows())}),[A]);var Y=r.useCallback((function(){z.current=new Ae(A),j(z.current.getNumRows())}),[A]),B=Ie(t,n,f).columns;r.useEffect((function(){if(t.editingMode!==O){var e=v.getStringValue(t);e&&(z.current.fromJson(e,B),j(z.current.getNumRows()))}}),[]);var P=Fe(n,B,W,z).getCellContent,q=Be(A,B,P),J=q.columns,U=q.sortColumn,G=q.getOriginalIndex,K=q.getCellContent,X=r.useCallback((function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];W!==z.current.getNumRows()&&j(z.current.getNumRows()),e&&R(),(0,c.Ds)(100,(function(){var e=z.current.toJson(J),i=v.getStringValue(t);void 0===i&&(i=new Ae(0).toJson([])),e!==i&&v.setStringValue(t,e,{fromUi:n})}))()}),[v,t,W,R,J]),Q=We(J,t.editingMode!==I,z,K,G,_,X),$=Q.onCellEdited,ee=Q.onPaste,te=Q.onRowAppended,ne=Q.onDelete,ie=Q.validateCell,ae=Pe(J,K),re=ae.tooltip,oe=ae.clearTooltip,le=ae.onItemHovered,de=Je(J,t.editingMode===I),ue=de.drawCell,se=de.customRenderers,ce=je(J.map((function(e){return M(e)}))),me=ce.columns,fe=ce.onColumnResize,ge=Le(t,W,u,m,g),he=ge.rowHeight,pe=ge.minHeight,be=ge.maxHeight,ye=ge.minWidth,xe=ge.maxWidth,Ce=ge.resizableSize,Ne=ge.setResizableSize,Ze=r.useCallback((function(e){var t=(0,a.Z)(e,2);t[0],t[1];return(0,i.Z)((0,i.Z)({},function(e,t){var n=t?"faded":"normal";return{kind:o.p6.Text,data:"",displayData:"",allowOverlay:!0,readonly:e,style:n}}(!0,!1)),{},{displayData:"empty",contentAlign:"center",allowOverlay:!1,themeOverride:{textDark:b.textLight},span:[0,Math.max(J.length-1,0)]})}),[J,b.textLight]);return r.useEffect((function(){var e=new d.Kz;return e.manageFormClearListener(v,t.formId,Y),function(){e.disconnect()}}),[t.formId,Y,v]),(0,ve.jsxs)(Ge,{className:"stDataFrame",onBlur:function(){x||N||R()},children:[(0,ve.jsx)(l.e,{"data-testid":"stDataFrameResizable",ref:h,defaultSize:Ce,style:{border:"1px solid ".concat(b.borderColor),borderRadius:"".concat(b.tableBorderRadius)},minHeight:pe,maxHeight:be,minWidth:ye,maxWidth:xe,size:Ce,enable:{top:!1,right:!1,bottom:!1,left:!1,topRight:!1,bottomRight:!0,bottomLeft:!1,topLeft:!1},grid:[1,he],snapGap:he/3,onResizeStop:function(e,t,n,i){h.current&&Ne({width:h.current.size.width,height:be-h.current.size.height===3?h.current.size.height+3:h.current.size.height})},children:(0,ve.jsx)(o.Nd,(0,i.Z)((0,i.Z)({className:"glideDataEditor",ref:p,columns:me,rows:H?1:W,minColumnWidth:50,maxColumnWidth:1e3,maxColumnAutoWidth:500,rowHeight:he,headerHeight:he,getCellContent:H?Ze:K,onColumnResize:fe,freezeColumns:H?0:J.filter((function(e){return e.isIndex})).length,smoothScrollX:!0,smoothScrollY:!0,verticalBorder:function(e){return!(e>=J.length&&(t.useContainerWidth||"100%"===Ce.width))},getCellsForSelection:!0,rowMarkers:"none",rangeSelect:N?"none":"rect",columnSelect:"none",rowSelect:"none",onItemHovered:le,keybindings:{search:!0,downFill:!0},onHeaderClicked:H||V?void 0:U,gridSelection:k,onGridSelectionChange:function(e){(x||N)&&(T(e),void 0!==re&&oe())},theme:b,onMouseMove:function(e){"out-of-bounds"===e.kind&&x?C(!1):"out-of-bounds"===e.kind||x||C(!0)},fixedShadowX:!0,fixedShadowY:!0,experimental:{scrollbarWidthOverride:1},drawCell:ue,customRenderers:se,imageEditorOverride:we,headerIcons:b.headerIcons,validateCell:ie,onPaste:!1},!H&&t.editingMode!==O&&!f&&{fillHandle:!N,onCellEdited:$,onPaste:ee,onDelete:ne}),!H&&t.editingMode===I&&{trailingRowOptions:{sticky:!1,tint:!0},rowMarkerTheme:{bgCell:b.bgHeader,bgCellMedium:b.bgHeader},rowMarkers:"checkbox",rowSelectionMode:"auto",rowSelect:f?"none":"multi",onRowAppended:f?void 0:te,onHeaderClicked:void 0}))}),re&&re.content&&(0,ve.jsx)(tt,{top:re.top,left:re.left,content:re.content,clearTooltip:oe})]})}))}}]);